name: ci

# SSH Keys must be passwordless
ssh-keys:
  public: ~/.ssh/id_rsa_libcloud.pub
  private: ~/.ssh/id_rsa_libcloud

layouts:
  elastic-agent-sles: 
    runs-on: sles-15
    instance-size: e2-standard-8
    username: root
    scripts: fixtures/ex_deploy_sles
    provider: google
    scale: 3
    remote-path: /root/ogc
    include:
      - .ogc-cache
    exclude:
      - .git
      - .venv
    artifacts: /root/output/*.xml
    tags:
      - elastic-agent-8.1.x
      - sles-gcp
  elastic-agent-ubuntu:
    runs-on: ubuntu-1804
    instance-size: e2-standard-8
    username: root
    scripts: fixtures/ex_deploy_ubuntu
    provider: google
    scale: 3
    remote-path: /root/ogc
    exclude:
      - .git
      - .venv
    artifacts: /root/output/*.xml
    tags:
      - elastic-agent-8.1.x
      - ubuntu-gcp
